import{_ as i,a as r,b as s,c as l,d,e as c}from"./img5-6aZO0pvr.js";import{_ as p}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as m,o as h,c as u,a as e,f as n,b as o,e as a}from"./app-kx6oLyAU.js";const f={},g=a('<h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2><p>Simple Admin Pay is the payment module of Simple Admin. It provides mobile and web payment and refund functions for WeChat and Alipay. This module is a community module that can be used for learning and commercial use. It works in conjunction with other modules of Simple Admin to provide a simple, unified way to handle payment and refund requests.</p><h2 id="features" tabindex="-1"><a class="header-anchor" href="#features" aria-hidden="true">#</a> Features</h2><ul><li><p><strong>Unified Payment</strong>: Provides a unified payment interface for other services to call. This means that no matter which payment method your users choose, you can handle payment requests in the same way.</p></li><li><p><strong>Unified Refund</strong>: The refund function allows you to refund through the order channel. This means that no matter how your users pay, they can receive refunds in the same way.</p></li><li><p><strong>WeChat Mini Program Payment Demo</strong>: A WeChat Mini Program payment demo is provided in the API service. This demo can help you understand how to implement payment functions in WeChat Mini Programs.</p></li><li><p><strong>Alipay Sandbox Payment Demo</strong>: A front-end payment refund example is provided in the simple-admin-backend-ui fork. This demo can help you understand how to implement payment and refund functions in the Alipay sandbox environment.</p></li></ul><h2 id="project-address" tabindex="-1"><a class="header-anchor" href="#project-address" aria-hidden="true">#</a> Project Address</h2>',5),_=e("strong",null,"API Service",-1),y={href:"https://github.com/agui-coder/simple-admin-pay-api",target:"_blank",rel:"noopener noreferrer"},b=e("strong",null,"RPC Service",-1),v={href:"https://github.com/agui-coder/simple-admin-pay-rpc",target:"_blank",rel:"noopener noreferrer"},k=e("h2",{id:"configuration-instructions",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#configuration-instructions","aria-hidden":"true"},"#"),n(" Configuration Instructions")],-1),w={href:"https://pay.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"},P={href:"https://opendocs.alipay.com/common/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://opendocs.alipay.com/common/02kkv7?pathHash=8fd32ef6",target:"_blank",rel:"noopener noreferrer"},C=e("ul",null,[e("li",null,[e("strong",null,"Payment Callback Address"),n(": Here, because we are demonstrating locally, we use the 127.0.0.1 IP address. If you deploy to the server, you need to set an IP address that the server can call.")])],-1),A=e("figure",null,[e("img",{src:i,alt:"images1",tabindex:"0",loading:"lazy"}),e("figcaption",null,"images1")],-1),I=e("h2",{id:"alipay-test",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#alipay-test","aria-hidden":"true"},"#"),n(" Alipay Test")],-1),j={href:"https://github.com/agui-coder/simple-admin-backend-ui",target:"_blank",rel:"noopener noreferrer"},D={href:"https://github.com/agui-coder/simple-admin-job",target:"_blank",rel:"noopener noreferrer"},T={href:"https://doc.ryansu.tech/zh/guide/basic-config/env_setting.html",target:"_blank",rel:"noopener noreferrer"},S=a(`<pre><code>Install CLI using npm
$ pnpm install
Compile and run using npm
$ npm run dev
</code></pre><p>Configure permissions</p><p><img src="`+l+'" alt="images7" loading="lazy"><img src="'+d+'" alt="images8" loading="lazy"></p><p>Payment test</p><figure><img src="'+c+'" alt="images2" tabindex="0" loading="lazy"><figcaption>images2</figcaption></figure><h2 id="wechat-payment-test" tabindex="-1"><a class="header-anchor" href="#wechat-payment-test" aria-hidden="true">#</a> WeChat Payment Test</h2>',6),W=e("code",null,"simple-admin-pay-api/pay-demo-taroui",-1),q={href:"https://pay.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"},z={href:"https://github.com/agui-coder/simple-admin-job",target:"_blank",rel:"noopener noreferrer"},L=e("h3",{id:"steps",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#steps","aria-hidden":"true"},"#"),n(" Steps")],-1),E={href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html",target:"_blank",rel:"noopener noreferrer"},M={href:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"},$=e("li",null,[e("p",null,"Select 'Details' -> 'Local Development', check 'Do not verify legal domain name, web-view (business domain name), TLS version and HTTPS certificate', and click 'Confirm'.")],-1),N=e("li",null,[e("p",null,[n("Enter "),e("code",null,"simple-admin-pay-api/pay-demo-taroui"),n(", open the terminal, and execute the following commands:")]),e("pre",null,[e("code",null,` Install CLI using npm
 $ npm install -g @tarojs/cli
 Install dependencies using pnpm
 $ pnpm install
 Compile and run using npm
 $ npm run dev:weapp
`)])],-1),O=e("li",null,[e("p",null,"Refresh the WeChat Developer Tool after selecting the compilation mode, and you can see the effect.")],-1),R=e("figure",null,[e("img",{src:r,alt:"images3",tabindex:"0",loading:"lazy"}),e("figcaption",null,"images3")],-1),V={href:"https://doc.ryansu.tech/zh/guide/official-comp/member.html",target:"_blank",rel:"noopener noreferrer"},B=e("figure",null,[e("img",{src:s,alt:"images5",tabindex:"0",loading:"lazy"}),e("figcaption",null,"images5")],-1);function H(U,Y){const t=m("ExternalLinkIcon");return h(),u("div",null,[g,e("ul",null,[e("li",null,[e("p",null,[_,n(": "),e("a",y,[n("https://github.com/agui-coder/simple-admin-pay-api"),o(t)])])]),e("li",null,[e("p",null,[b,n(": "),e("a",v,[n("https://github.com/agui-coder/simple-admin-pay-rpc"),o(t)])])])]),k,e("p",null,[n("Detailed configuration is located in the simple-admin-rpc/etc/pay.yaml file. Payment configuration refers to the official documents "),e("a",w,[n("WeChat Payment Official Document"),o(t)]),n(", "),e("a",P,[n("Alipay Payment Official Document"),o(t)]),n(", "),e("a",x,[n("Alipay Sandbox Environment Address"),o(t)]),n(".")]),C,A,I,e("p",null,[n("The sample project must run the forked project of "),e("a",j,[n("simple-admin-backend-ui"),o(t)]),n(" and the pay-job branch of the forked project "),e("a",D,[n("simple-admin-job"),o(t)]),n(", otherwise, the project cannot receive the callback information of payment completion. You need to start the backend service locally, for more details, you can refer to "),e("a",T,[n("Simple Admin"),o(t)]),n(".")]),S,e("p",null,[W,n(" provides a simple WeChat demo payment access, which needs to be done in the WeChat environment. You need to prepare the relevant information of WeChat payment, for more details, you can refer to "),e("a",q,[n("WeChat Payment Official Document"),o(t)]),n(". Running the sample project must run the pay-job branch of the "),e("a",z,[n("simple-admin-job"),o(t)]),n(" project, otherwise, the project cannot receive the callback information of payment completion.")]),L,e("ol",null,[e("li",null,[e("p",null,[n("Open "),e("a",E,[n("WeChat Developer Tool"),o(t)]),n(", select 'Mini Program', click 'Add Project', fill in the AppID of the mini program, and click 'Confirm'.")])]),e("li",null,[e("p",null,[n("In "),e("a",M,[n("WeChat Public Platform"),o(t)]),n(", select 'Development' -> 'Development Settings', fill in the AppID from the WeChat Developer Tool into 'Developer ID', and click 'Confirm'.")])]),$,N,O]),R,e("p",null,[n("openid can be obtained through the "),e("a",V,[n("Simple Admin Member"),o(t)]),n(" module.")]),B])}const K=p(f,[["render",H],["__file","1-pay.html.vue"]]);export{K as default};
